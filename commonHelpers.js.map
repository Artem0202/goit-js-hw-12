{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["'use strict';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('form');\nconst photosList = document.querySelector('ul');\n\nform.addEventListener('submit', searchImages);\n\nfunction searchImages(event) {\n  event.preventDefault();\n  const inputContent = event.currentTarget.text.value.trim();\n  if (inputContent === '') {\n    iziToast.info({\n      title: 'Attention',\n      message: 'Please enter a request',\n    });\n    return;\n  }\n\n  const searchParams = new URLSearchParams({\n    key: '42277642-5b5e0c3e2383e813180f7c1aa',\n    q: inputContent,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  fetch(`https://pixabay.com/api/?${searchParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(fetchThen)\n    .catch(error => {\n      console.log(error);\n    });\n}\n\nfunction fetchThen(photos) {\n  photosList.innerHTML = '';\n\n  const louder = `<div class=\"loader\"></div>`;\n  photosList.insertAdjacentHTML('beforebegin', louder);\n  const loaderBox = document.querySelector('.loader');\n\n  const markupGalleryPhotos = photos.hits\n    .map(photo => {\n      return `\n        <li class=\"gallery-item\">\n          <a href=\"${photo.largeImageURL}\">\n          <img src=\"${photo.webformatURL}\" alt=\"${photo.tags}\">\n          <ul class=\"photo-info\">\n            <li>\n                <h3>Likes</h3>\n                <p>${photo.likes}</p>\n            </li>\n            <li>\n                <h3>Views</h3>\n                <p>${photo.views}</p>\n            </li>\n            <li>\n                <h3>Comments</h3>\n                <p>${photo.comments}</p>\n            </li>\n            <li>\n                <h3>Downloads</h3>\n                <p>${photo.downloads}</p>\n            </li>\n          </ul>\n          </a>\n        </li>\n      `;\n    })\n    .join('');\n\n  setTimeout(() => {\n    loaderBox.remove();\n    if (photos.totalHits === 0) {\n      iziToast.error({\n        title: 'Error',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n      return;\n    }\n\n    photosList.insertAdjacentHTML('beforeend', markupGalleryPhotos);\n    let lightbox = new SimpleLightbox('.gallery-list a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n    lightbox.refresh();\n  }, 1000);\n}\n"],"names":["form","photosList","searchImages","event","inputContent","iziToast","searchParams","response","fetchThen","error","photos","louder","loaderBox","markupGalleryPhotos","photo","SimpleLightbox"],"mappings":"6vBAMA,MAAMA,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAa,SAAS,cAAc,IAAI,EAE9CD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMC,EAAeD,EAAM,cAAc,KAAK,MAAM,OACpD,GAAIC,IAAiB,GAAI,CACvBC,EAAS,KAAK,CACZ,MAAO,YACP,QAAS,wBACf,CAAK,EACD,MACD,CAED,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,MAAM,4BAA4BE,CAAY,EAAE,EAC7C,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,CAAS,EACd,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,CAEA,SAASD,EAAUE,EAAQ,CACzBT,EAAW,UAAY,GAEvB,MAAMU,EAAS,6BACfV,EAAW,mBAAmB,cAAeU,CAAM,EACnD,MAAMC,EAAY,SAAS,cAAc,SAAS,EAE5CC,EAAsBH,EAAO,KAChC,IAAII,GACI;AAAA;AAAA,qBAEQA,EAAM,aAAa;AAAA,sBAClBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,qBAIvCA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,qBAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,qBAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,qBAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,OAM/B,EACA,KAAK,EAAE,EAEV,WAAW,IAAM,CAEf,GADAF,EAAU,OAAM,EACZF,EAAO,YAAc,EAAG,CAC1BL,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACV,CAAO,EACD,MACD,CAEDJ,EAAW,mBAAmB,YAAaY,CAAmB,EAC/C,IAAIE,EAAe,kBAAmB,CACnD,aAAc,MACd,aAAc,GACpB,CAAK,EACQ,QAAO,CACjB,EAAE,GAAI,CACT"}